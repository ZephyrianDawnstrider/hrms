# HRMS Deployment Guide for Render

This guide will help you deploy the HRMS application to Render.

## Prerequisites

- GitHub account
- Render account (sign up at https://render.com)
- Code pushed to GitHub repository

## Deployment Steps

### 1. Push Code to GitHub

The code is already in your GitHub repository at:
https://github.com/ZephyrianDawnstrider/hrms

### 2. Connect to Render

1. Go to https://render.com and sign in
2. Click "New +" button and select "Web Service"
3. Connect your GitHub account if not already connected
4. Select the `hrms` repository

### 3. Configure the Service

Render will automatically detect the `render.yaml` file. You can also configure manually:

- **Name**: hrms-lite (or your preferred name)
- **Environment**: Docker
- **Plan**: Free
- **Dockerfile Path**: ./Dockerfile

### 4. Set Environment Variables

In the Render dashboard, add these environment variables:

**Required:**
- `SECRET_KEY`: Will be auto-generated by Render
- `DEBUG`: False
- `ALLOWED_HOSTS`: your-app-name.onrender.com
- `CSRF_TRUSTED_ORIGINS`: https://your-app-name.onrender.com

**Example:**
```
SECRET_KEY=<auto-generated>
DEBUG=False
ALLOWED_HOSTS=hrms-lite.onrender.com
CSRF_TRUSTED_ORIGINS=https://hrms-lite.onrender.com
```

### 5. Deploy

1. Click "Create Web Service"
2. Render will automatically build and deploy your application
3. Wait for the build to complete (usually 5-10 minutes)
4. Your app will be available at: https://your-app-name.onrender.com

## Important Notes

### Database Persistence

⚠️ **WARNING**: This application uses SQLite, which means:
- Database will reset on every deployment
- All employee and attendance data will be lost when you redeploy
- For production use, consider upgrading to PostgreSQL

### First Time Setup

After deployment, you'll need to create a superuser to access the admin panel:

1. Go to Render dashboard
2. Click on your service
3. Go to "Shell" tab
4. Run: `python manage.py createsuperuser`
5. Follow the prompts to create admin account

### Accessing the Application

- **Main App**: https://your-app-name.onrender.com
- **Admin Panel**: https://your-app-name.onrender.com/admin

## Troubleshooting

### Build Fails

- Check the build logs in Render dashboard
- Ensure all dependencies are in requirements.txt
- Verify Dockerfile syntax

### Application Not Loading

- Check environment variables are set correctly
- Verify ALLOWED_HOSTS includes your Render domain
- Check application logs in Render dashboard

### Static Files Not Loading

- Ensure WhiteNoise is installed (check requirements.txt)
- Verify collectstatic ran during build
- Check STATIC_ROOT and STATIC_URL in settings.py

## Updating the Application

To update your deployed application:

1. Make changes to your code locally
2. Commit and push to GitHub:
   ```bash
   git add .
   git commit -m "Your update message"
   git push origin main
   ```
3. Render will automatically detect the changes and redeploy

## Free Tier Limitations

Render's free tier includes:
- 750 hours/month of runtime
- Service spins down after 15 minutes of inactivity
- First request after spin-down may take 30-60 seconds
- 512 MB RAM
- Shared CPU

## Support

For issues with:
- **Application**: Check application logs in Render dashboard
- **Render Platform**: Visit https://render.com/docs
- **Django**: Visit https://docs.djangoproject.com
